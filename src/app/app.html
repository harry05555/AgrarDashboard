<style>
  .card-title {
    color: #27ae60;
  }
  .risk {
    color: #c0392b;
    font-weight: bold;
  }

  #map {
    height: 400px;
    border-radius: 8px;
  }
  .crop-table tbody tr:hover {
    background-color: rgba(39, 174, 96, 0.1);
    cursor: pointer;
  }

  .modal-header {
    background-color: #27ae60;
    color: white;
  }
</style>
<div class="container py-4">
  <h1 class="text-center mb-4">Agrar-Dashboard</h1>

  <app-searching-cities />
  <app-location />

  <!-- Aktuelles Wetter & Morgen -->
  <div class="row mb-4">
    <div class="col-md-6 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title section-title">Wetter Heute</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Temperatur: <span>22°C</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Niederschlag: <span>2 mm</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Regenwahrscheinlichkeit: <span>30%</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Luftfeuchtigkeit: <span>65%</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Status:
              <img
                src="https://cdn-icons-png.flaticon.com/512/1163/1163661.png"
                alt="Sonne"
                class="card-icon"
              />
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title section-title">Wetter Morgen</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Temperatur: <span>24°C</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Niederschlag: <span>5 mm</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Regenwahrscheinlichkeit: <span>50%</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Luftfeuchtigkeit: <span>70%</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Status:
              <img
                src="https://cdn-icons-png.flaticon.com/512/1163/1163624.png"
                alt="Regenwolke"
                class="card-icon"
              />
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Niederschlagswahrscheinlichkeit Chart -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="card-title section-title mb-3">
        Niederschlagswahrscheinlichkeit der nächsten 7 Tage
      </h5>
      <div class="chart-container">
        <canvas id="precipitationChart"></canvas>
      </div>
    </div>
  </div>

  <app-weather-forecast />

  <!-- Interaktive Karte -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="card-title section-title mb-3">Interaktive Getreideflächenkarte</h5>
      <div id="map"></div>
    </div>
  </div>

  <app-cultivated-plants />

  <app-harvest-information />

  <!-- Lagerbedingungen für Feldfrüchte (bereits vorhanden) -->
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <!-- Weizen -->
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Weizen</h5>
          <p>Lagerfeuchte: ≤ 60 %</p>
          <p>Temperatur: 22 °C – 26 °C</p>
          <p class="risk">
            Risiko: Unter 18 % Kornfeuchte, sonst Gefahr von Lager- und Qualitätsverlusten
          </p>
        </div>
      </div>
    </div>

    <!-- Mais -->
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Mais</h5>
          <p>Lagerfeuchte: ≤ 20 %</p>
          <p>Temperatur: 15 °C – 30 °C</p>
          <p class="risk">Risiko: Bei zu hoher Luftfeuchte steigt Schimmelrisiko</p>
        </div>
      </div>
    </div>

    <!-- Raps -->
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Raps</h5>
          <p>Lagerfeuchte: ≤ 40 %</p>
          <p>Temperatur: 20 °C – 25 °C</p>
          <p class="risk">Risiko: Sehr empfindlich, zu feucht = Auswuchsgefahr</p>
        </div>
      </div>
    </div>

    <!-- Gerste -->
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Gerste</h5>
          <p>Lagerfeuchte: ≤ 17 %</p>
          <p>Temperatur: 18 °C – 24 °C</p>
          <p class="risk">Risiko: Malzqualität leidet bei zu hoher Feuchtigkeit</p>
        </div>
      </div>
    </div>

    <!-- Kartoffeln -->
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Kartoffeln</h5>
          <p>Lagerfeuchte: ≤ 75 % (Feldluftfeuchte)</p>
          <p>Temperatur: 10 °C – 18 °C</p>
          <p class="risk">Risiko: Schalenfestigkeit wichtig, zu heiß = Fäulnisrisiko</p>
        </div>
      </div>
    </div>

    <!-- Zuckerrüben -->
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Zuckerrüben</h5>
          <p>Lagerfeuchte: ≤ 80 % (Feldluftfeuchte)</p>
          <p>Temperatur: 8 °C – 15 °C</p>
          <p class="risk">Risiko: Müssen kühl geerntet werden, sonst Lagerverluste</p>
        </div>
      </div>
    </div>

    <!-- Sonnenblumen -->
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Sonnenblumen</h5>
          <p>Lagerfeuchte: ≤ 15 %</p>
          <p>Temperatur: 22 °C – 28 °C</p>
          <p class="risk">Risiko: Ölqualität sinkt bei zu hoher Kornfeuchte</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Crop Modal -->
<div
  class="modal fade"
  id="cropModal"
  tabindex="-1"
  aria-labelledby="cropModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="cropModalLabel">Detailinformationen</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table">
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Wert</th>
            </tr>
          </thead>
          <tbody id="modalCropDetails">
            <!-- Dynamisch gefüllt -->
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schließen</button>
      </div>
    </div>
  </div>
</div>
